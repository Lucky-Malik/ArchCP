#!/bin/bash

#CONFIG
TEMPLATE_PATH="$HOME/.config/cp-templates/main.cpp"

if [ "$#" -ne 1 ]; then
	echo "Usage: $0 <directory_name>"
	echo "Example : $0 cf_1921A"
	exit 1
fi

DIR_NAME=$1

#create the directory
if mkdir "$DIR_NAME"; then
	echo "Directory $DIR_NAME created."
else
	echo "Error: Directory $DIR_NAME already exists."
	exit 1
fi

#change into the directory
cd "$DIR_NAME"

#copy template
if [ -f "$TEMPLATE_PATH" ]; then
	cp "$TEMPLATE_PATH" "main.cpp"
else
	echo "Warning: Template file not found at $TEMPLATE_PATH"
	touch main.cpp
fi

#create test file
touch "input.txt"

echo "Done. Scaffolding complete in $(pwd)"
